<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Movie Recommendation System</title>
  <meta content="" name="description">
  <meta content="" name="keywords">
  <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&family=Inter:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Cardo:ital,wght@0,400;0,700;1,400&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/home.css" rel="stylesheet">
</head>

<body>

  <!-- ======= Header ======= -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid d-flex align-items-center justify-content-between">
      <a href="#" class="logo d-flex align-items-center  me-auto me-lg-0">
        <i class="bi bi-film"></i>
        <h1> <a href="/index.html">MovRec</a></h1>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="home.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="latest.html">Latest</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="upcoming.html">Upcoming</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="mylist.html">My List</a>
          </li>
        </ul>
        <form class="d-flex" role="search">
          <!-- <li class="searchbar"> -->
          <div class="search-box">
            <input type="text" class="search-input" placeholder="Search for Movies">
            <a class="search-btn" href="#">
              <!-- Seach Icon -->
              <i class="bi bi-search"></i>
            </a>
          </div>
          <!-- </li> -->
          <!-- <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"> -->
          <a href="index.html">
          <button class="btn btn-success" type="submit">Logout</button>
          </a>
          
        </form>
      </div>
    </div>
    </header>
  </nav>

  <div class="d-flex justify-content-between">
    <div id="mylist" class="d-flex flex-wrap gap-4 movie_card g-4">
      <div  class="col-2">
        <div class="card h-100">
          <img src="..." class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional
              content. This content is a little bit longer.</p>
            <a href="#" class="btn btn-success">Give rating</a>
            <a href="#" class="btn btn-success">-</a>
          </div>
          
        </div>
      </div>
  
    </div>
</div>

    <!-- End Hero Section -->
    <!-- 
  <main id="main" data-aos="fade" data-aos-delay="1500">

    <!-- ======= Gallery Section ======= -->

    <!-- <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a> -->

    <div id="preloader">
      <div class="line"></div>
    </div>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/home.js"></script>
    <script src="assets/js/request.js"></script>
    <script>
     const getMyList = async () => {
   
    let req = await request(
      "GET",
      "http://localhost:9595/watchlist/view",
      true,
    );
  
    let data = req.data;
  
    const div = data.map(i => {
  
      return `
      <div class="col-2">
        <div class="editbtn card h-100" data_movie_id="${i.movieId}">
          <img src="http://localhost:9595/image/${i.movieId}" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">${i.movieTitle}</h5>
            <p class="card-text">${i.movieDescription}.</p>
          </div>
        </div>
       
      </div>
      `;
    });
  
    $(document).ready(function () {
            $(document).on("click", ".editbtn", function () {
              let movieId = $(this).attr("data_movie_id");
              localStorage.setItem('movieId', movieId);
              window.location.href = "moviePage.html";
            });
          });
    document.getElementById('mylist').innerHTML = div;
  
  };
  
  getMyList(); 


  document.getElementById("remove").onclick = function () {
  const movieId = localStorage.getItem('movieId');

  console.log(movieId);
  

}


    </script>

</body>

</html>